<!doctype html>
<html>
<head>
	<title>Keywords Generation</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function (e) {
			$('#submit').on('click', function () {
				var form_data = new FormData();
				var ins = document.getElementById('msg').value
				form_data = document.getElementById('msg').value

				if(ins == 0) {
					$('#msg').html('<span style="color:red">Please submit text</span>');
					return;
				}


				$.ajax({
					url: '/submit', // point to server-side URL
					dataType: 'json', // what to expect back from server
					cache: false,
					contentType: false,
					processData: false,
					data: form_data,
					type: 'post',
					success: function (response) { // display success response
						$('#msg').html('');
						$('#termb').text(response.bert_term_30);
						$('#terms').text(response.scibert_term_20);
						$('#mdb').text(response.bert_mostdepth_30);
						$('#mds').text(response.scibert_mostdepth_30);
						$('#mb').text(response.bert_mixed_30);
						$('#ms').text(response.scibert_mixed_30);

						$.each(response.response, function (key, data) {
							if(key !== 'message') {
								$('#msg').append(key + ' -> ' + data + '<br/>');
							} else {
								$('#msg').append(data + '<br/>');
							}
						})
					},
					error: function (response) {
						$('#msg').html("Error"); // display error response
						$('#termb').text(response.termb);
						$('#terms').text(response.terms);
						$('#mdb').text(response.mdb);
						$('#mds').text(response.mds);
						$('#mb').text(response.mb);
						$('#ms').text(response.ms);

					}
				});
			});
		});
	</script>
</head>

<body>

    <h1>Abstract</h1>
	<dl>
		<p>
			<textarea rows="15" cols="150" id="msg">Type abstract here...</textarea>
        <br><br>
        <button id="submit">Submit</button>
		</p>
	</dl>

    </pre>
    <h1>Keywords [Term] (bert) </h1>
    <textarea rows="15" cols="150" id="termb"> Term keywords generated by bert...
    </textarea>

    <pre>

    </pre>
    <h1>Keywords [Term] (scibert)</h1>
    <textarea rows="15" cols="150" id="terms"> Most depth keywords generated by scibert....
    </textarea>

    <pre>

    </pre>

    <h1>Keywords [Most Depth] (bert)</h1>
    <textarea rows="15" cols="150" id="mdb"> Term keywords generated by bert...
    </textarea>

    <pre>

    </pre>

    <h1>Keywords [Most Depth] (scibert)</h1>
    <textarea rows="15" cols="150" id="mds"> Most depth keywords generated by scibert....
    </textarea>

    <pre>

    </pre>

    <h1>Keywords [Mixed] (bert)</h1>
    <textarea rows="15" cols="150" id="mb"> Term keywords generated by bert...
    </textarea>

    <pre>

    </pre>

    <h1>Keywords [Mixed] (scibert)</h1>
    <textarea rows="15" cols="150" id="ms"> Most depth keywords generated by scibert....
    </textarea>

</body>
